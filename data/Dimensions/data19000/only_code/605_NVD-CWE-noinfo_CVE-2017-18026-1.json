CGI.escape(without_leading_slash(p1.to_s))) do |io|
hg_args << hgtarget(path) unless path.blank?
hg_args << CGI.escape(hgtarget(p))
hg 'rhcat', '-r', CGI.escape(hgrev(identifier)), hgtarget(p) do |io|
hg 'rhannotate', '-ncu', '-r', CGI.escape(hgrev(identifier)), hgtarget(p) do |io|