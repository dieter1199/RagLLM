int i, j;
SupportedTAItem = CALLOC(1, sizeof(NGAP_SupportedTAItem_t));
ogs_asn_uint24_to_OCTET_STRING(
test_self()->nr_served_tai[0].list2.tai[0].tac,
&SupportedTAItem->tAC);
ogs_asn_uint24_to_OCTET_STRING(
test_self()->nr_served_tai[0].list0.tai[0].tac[0],
&SupportedTAItem->tAC);
for (i = 0; i < test_self()->num_of_plmn_support; i++) {
plmn_id = &test_self()->plmn_support[i].plmn_id;
BroadcastPLMNItem = CALLOC(1, sizeof(NGAP_BroadcastPLMNItem_t));
ogs_asn_buffer_to_OCTET_STRING(
plmn_id, OGS_PLMN_ID_LEN, &BroadcastPLMNItem->pLMNIdentity);
for (j = 0; j < test_self()->plmn_support[i].num_of_s_nssai; j++) {
ogs_s_nssai_t *s_nssai = &test_self()->plmn_support[i].s_nssai[j];
SliceSupportItem = CALLOC(1, sizeof(NGAP_SliceSupportItem_t));
ogs_asn_uint8_to_OCTET_STRING(s_nssai->sst,
&SliceSupportItem->s_NSSAI.sST);
if (s_nssai->sd.v != OGS_S_NSSAI_NO_SD_VALUE) {
SliceSupportItem->s_NSSAI.sD = CALLOC(1, sizeof(NGAP_SD_t));
ogs_asn_uint24_to_OCTET_STRING(
s_nssai->sd, SliceSupportItem->s_NSSAI.sD);
ASN_SEQUENCE_ADD(&BroadcastPLMNItem->tAISliceSupportList.list,
SliceSupportItem);
ASN_SEQUENCE_ADD(&SupportedTAItem->broadcastPLMNList.list,
BroadcastPLMNItem);
ASN_SEQUENCE_ADD(&SupportedTAList->list, SupportedTAItem);
int i, j;
SupportedTAItem = CALLOC(1, sizeof(NGAP_SupportedTAItem_t));
ogs_asn_uint24_to_OCTET_STRING(
test_self()->nr_served_tai[0].list2.tai[0].tac,
&SupportedTAItem->tAC);
ogs_asn_uint24_to_OCTET_STRING(
test_self()->nr_served_tai[0].list0.tai[0].tac[0],
&SupportedTAItem->tAC);
for (i = 0; i < test_self()->num_of_plmn_support; i++) {
plmn_id = &test_self()->plmn_support[i].plmn_id;
BroadcastPLMNItem = CALLOC(1, sizeof(NGAP_BroadcastPLMNItem_t));
ogs_asn_buffer_to_OCTET_STRING(
plmn_id, OGS_PLMN_ID_LEN, &BroadcastPLMNItem->pLMNIdentity);
for (j = 0; j < test_self()->plmn_support[i].num_of_s_nssai; j++) {
ogs_s_nssai_t *s_nssai =
&test_self()->plmn_support[i].s_nssai[j];
SliceSupportItem = CALLOC(1, sizeof(NGAP_SliceSupportItem_t));
ogs_asn_uint8_to_OCTET_STRING(s_nssai->sst,
&SliceSupportItem->s_NSSAI.sST);
if (s_nssai->sd.v != OGS_S_NSSAI_NO_SD_VALUE) {
SliceSupportItem->s_NSSAI.sD = CALLOC(1, sizeof(NGAP_SD_t));
ogs_asn_uint24_to_OCTET_STRING(
s_nssai->sd, SliceSupportItem->s_NSSAI.sD);
ASN_SEQUENCE_ADD(&BroadcastPLMNItem->tAISliceSupportList.list,
SliceSupportItem);
ASN_SEQUENCE_ADD(&SupportedTAItem->broadcastPLMNList.list,
BroadcastPLMNItem);
ASN_SEQUENCE_ADD(&SupportedTAList->list, SupportedTAItem);
