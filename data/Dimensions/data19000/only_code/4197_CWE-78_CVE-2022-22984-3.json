const isWin = /^win/.test(os.platform());
const quot = isWin ? '"' : "'";
export function formatArgWithWhiteSpace(arg: string): string {
if (/\s/.test(arg)) {
return quot + arg + quot;
}
return arg;
}
if (!fs.existsSync(path.resolve(root, targetFile))) {
throw new Error('File not found: "' + targetFile + '"');
const formattedTargetFile = formatArgWithWhiteSpace(targetFile);
args.push(formattedTargetFile);
args.push(
`-Pconfiguration=${quot}${options['configuration-matching']}${quot}`,
);
args.push(
`-PconfAttr=${quot}${options['configuration-attributes']}${quot}`,
);
const formattedInitScript = formatArgWithWhiteSpace(
path.resolve(options.initScript),
);
args.push('-I ' + initGradlePath);
`-Pconfiguration=${quot}^$1$$${quot}`,
args[i] = `-Pconfiguration=${quot}^${args[i + 1]}$${quot}`;
return args;
