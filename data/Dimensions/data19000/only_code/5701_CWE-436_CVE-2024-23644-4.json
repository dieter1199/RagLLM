HeaderValueInner::Utf8(s) => serializer.serialize_str(s),
HeaderValueInner::Bytes(bytes) => serializer.serialize_bytes(bytes),
HeaderValueInner::Utf8(s) => Debug::fmt(s, f),
HeaderValueInner::Bytes(b) => Debug::fmt(&String::from_utf8_lossy(b), f),
HeaderValueInner::Utf8(utf8) => Some(utf8),
HeaderValueInner::Bytes(_) => None,
HeaderValueInner::Utf8(s) => f.write_str(s),
HeaderValueInner::Bytes(b) => f.write_str(&String::from_utf8_lossy(b)),
Ok(s) => Self(HeaderValueInner::Utf8(SmartCow::Owned(s.into()))),
Err(e) => Self(HeaderValueInner::Bytes(e.into_bytes().into())),
Self(HeaderValueInner::Utf8(SmartCow::from(c)))
Ok(s) => Self(HeaderValueInner::Utf8(SmartCow::Borrowed(s))),
Err(_) => Self(HeaderValueInner::Bytes(b.into())),
Self(HeaderValueInner::Utf8(SmartCow::Owned(s.into())))
Self(HeaderValueInner::Utf8(SmartCow::Borrowed(s)))
HeaderValueInner::Utf8(utf8) => utf8.as_bytes(),
HeaderValueInner::Bytes(b) => b,
