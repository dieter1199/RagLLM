global $list, $options, $PHP_SELF;
<form name="ziplist" method="post" action="<?php echo $PHP_SELF; ?>"><input type="hidden" name="act" value="zip_go" />
$_POST ["archive"] = (strlen ( trim ( urldecode ( $_POST ["archive"] ) ) ) > 4 && substr ( trim ( urldecode ( $_POST ["archive"] ) ), - 4 ) == ".zip") ? trim ( urldecode ( $_POST ["archive"] ) ) : "archive.zip";
$archive = new PclZip ( $_POST ["archive"] );
if (file_exists ( $_POST ["archive"] )) {
if ($v_list == 0) {
echo "Error: " . $archive->errorInfo ( true ) . "<br /><br />";
return;
} else {
echo "Archive <b>" . $_POST ["archive"] . "</b> successfully created!<br /><br />";
}
if (is_file($_POST['archive'])) {
}
?>