uint32_t track_size;
//  uint32_t sysex_store_len = 0;
//  uint32_t tmp_length = 0;
//  uint8_t current_event = 0;
//  uint8_t current_event_ch = 0;
track_size = *midi_data++ << 24;
track_size |= *midi_data++ << 16;
track_size |= *midi_data++ << 8;
track_size |= *midi_data++;
if (midi_size < track_size) {
if (track_size < 3) {
if ((midi_data[track_size - 3] != 0xFF)
|| (midi_data[track_size - 2] != 0x2F)
|| (midi_data[track_size - 1] != 0x00)) {
midi_data += track_size;
midi_size -= track_size;
setup_ret = _WM_SetupMidiEvent(mdi, tracks[i], running_event[i]);
setup_ret = _WM_SetupMidiEvent(mdi, tracks[i], running_event[i]);