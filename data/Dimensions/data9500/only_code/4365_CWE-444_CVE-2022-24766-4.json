_read_request_line, _read_response_line, _read_headers, get_header_tokens
# both content-length and chunked (possible request smuggling)
with pytest.raises(ValueError, match="Received both a Transfer-Encoding and a Content-Length header"):
expected_http_body_size(
treq(headers=Headers(transfer_encoding="chunked", content_length="42")),
)