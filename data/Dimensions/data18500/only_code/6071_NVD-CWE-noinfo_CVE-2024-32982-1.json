from os.path import commonpath
self.directories = tuple(Path(p).resolve() if resolve_symlinks else Path(p) for p in directories)
file_info = await self.adapter.info(joined_path)
if file_info and commonpath([str(directory), file_info["name"], joined_path]) == str(directory):
