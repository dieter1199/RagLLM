use deno_core::anyhow::bail;
) -> Result<Option<Vec<u8>>, AnyError> {
) -> Result<Option<Vec<u8>>, AnyError> {
bail!(
"Bad response: {:?}{}",
status,
match maybe_response_text {
Some(text) => format!("\n\n{text}"),
None => String::new(),
}
);
) -> Result<reqwest::Response, AnyError> {
Err(custom_error("Http", "Too many redirects."))
) -> Result<Vec<u8>, AnyError> {
) -> Result<Url, AnyError> {
Err(generic_error(format!(
"Redirection from '{request_url}' did not provide location header"
)))