$downfile_info= DBGet(DBQuery('SELECT * FROM user_file_upload WHERE ID='.$down_id.''));
header("Cache-Control: public");
header("Pragma: ");
header("Expires: 0");
header("Cache-Control: must-revalidate, post-check=0, pre-check=0");
header("Cache-Control: private",false); // required for certain browsers
header("Content-Length: ".$downfile_info[1]['SIZE']."");
header("Content-Type: ".$downfile_info[1]['TYPE']."");
//        header("Content-Disposition: attachment; filename=\"".str_replace(' ','_',$downfile_info[1]['NAME'])."\";");
header("Content-Disposition: attachment; filename=\"".$downfile_info[1]['NAME']."\";");
header("Content-Transfer-Encoding: binary");
ob_clean();
flush();
exit;
}
else
{
header('Content-Disposition: attachment; filename="'.urldecode($_REQUEST['name']).'" ');
readfile('assets/'.urldecode($_REQUEST['filename']));