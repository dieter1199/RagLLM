private int _readAndWriteBytes(OutputStream out, int total) throws IOException
loadMoreGuaranteed();
if (len >= 0) {
byte[] b = new byte[len];
if (_inputPtr >= _inputEnd) {
loadMoreGuaranteed();
int ptr = 0;
while (true) {
int toAdd = Math.min(len, _inputEnd - _inputPtr);
System.arraycopy(_inputBuffer, _inputPtr, b, ptr, toAdd);
_inputPtr += toAdd;
ptr += toAdd;
len -= toAdd;
if (len <= 0) {
return b;
}
loadMoreGuaranteed();
len = _decodeExplicitLength(ch & 0x1F);
loadMoreGuaranteed();
/* 08-Sep-2014, tatu: As per [Issue#5], there are codecs
*   (f.ex. Perl module "CBOR::XS") that use Binary data...
*/
protected final boolean loadMore() throws IOException
protected final void loadMoreGuaranteed() throws IOException {
