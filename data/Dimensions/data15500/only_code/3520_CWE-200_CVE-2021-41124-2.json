from scrapy.exceptions import NotConfigured
def __init__(self, crawler, splash_base_url, slot_policy, log_400):
splash_base_url = crawler.settings.get('SPLASH_URL',
cls.default_splash_url)
log_400 = crawler.settings.getbool('SPLASH_LOG_400', True)
slot_policy = crawler.settings.get('SPLASH_SLOT_POLICY',
cls.default_policy)
return cls(crawler, splash_base_url, slot_policy, log_400)
logger.warning(
"SplashMiddleware; %(request)s will be handled without Splash",
return request
splash_options = request.meta['splash']