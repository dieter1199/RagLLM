import java.io.UnsupportedEncodingException;
String getFileName(HttpServletRequest request) {
String path = request.getPathInfo();
if (path.indexOf("/rest/web") != 0) {
path = path.substring(path.indexOf("/rest/web"));
}
return path.substring("/rest/web/".length());
ResponseEntity<?> doGet(HttpServletRequest request, HttpServletResponse response) {
final String filename;
try {
filename = URLDecoder.decode(getFileName(request), "UTF-8");
} catch (UnsupportedEncodingException e1) {
throw new IllegalStateException(
"Could not decode encoding UTF-8", e1); // Should never happen