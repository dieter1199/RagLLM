$dal = new MAX_Dal_Admin_Session();
if (empty($_COOKIE['sessionID'])) {
// This is required because 'sessionID' cookie is set to new during logout.
// According to comments in the file it is because some servers do not
// support setting cookies during redirect.
if (empty($serialized_session)) {
if (!$loaded_session) {
// XXX: Consider raising an error
$session = $loaded_session;
/* Create a new sessionid                                */
$session = array();
$_COOKIE['sessionID'] = md5(uniqid('phpads', 1));
phpAds_SessionSetAdminCookie('sessionID', $_COOKIE['sessionID']);