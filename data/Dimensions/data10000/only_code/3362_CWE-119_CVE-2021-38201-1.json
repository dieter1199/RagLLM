if (base >= maxlen) {
base = maxlen;
maxlen = 0;
} else