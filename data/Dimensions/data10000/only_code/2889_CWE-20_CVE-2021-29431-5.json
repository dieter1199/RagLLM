# hostname/domain name + optional port
"""Validate that a given string is a valid hostname or domain name, with an
optional port number.
instance, it doesn't check that the TLD is valid). If a port is
specified, it has to be a valid port number.
host_parts = string.split(":", 1)
if len(host_parts) == 1:
return hostname_regex.match(string) is not None
else:
host, port = host_parts
valid_hostname = hostname_regex.match(host) is not None
try:
valid_port = (
port == str(port_num)  # exclude things like '08090' or ' 8090'
and 1 <= port_num < 65536)
except ValueError:
valid_port = False
return valid_hostname and valid_port