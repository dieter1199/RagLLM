if (NIL_P(data)) {
rb_raise(rb_eArgError, "data cannot be nil");
}