if (php_uname('s') === 'Windows NT') {
$temp = explode('\\', $attachment[0]->attributes->filename);
} else {
$temp = explode('/', $attachment[0]->attributes->filename);
}
$filename = $temp[count($temp)-1];
$filename = preg_replace('/'.$this->response->meta->id.'_/', '', $filename, 1);
header('Content-Disposition: attachment;filename="'.$filename.'"');
readfile($attachment[0]->attributes->filename);