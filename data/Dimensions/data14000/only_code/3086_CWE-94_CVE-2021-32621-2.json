VelocityEngine velocityEngine = mock(VelocityEngine.class);
when(velocityEngine.evaluate(any(), any(), any(), any(String.class))).then((Answer<Void>) invocation -> {
Object[] args = invocation.getArguments();
StringWriter stringWriter = (StringWriter) args[1];
String title = (String) args[3];
stringWriter.append(title);
return null;
});
AuthorExecutor authorExecutor = componentManager.getInstance(AuthorExecutor.class);
ContentExecutor<MacroTransformationContext> contentExecutor =
assertEquals("Gadget 1", gadget.getTitle().get(0).toString());