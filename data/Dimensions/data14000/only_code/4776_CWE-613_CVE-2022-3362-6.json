from sqlalchemy import create_engine, event
def add(self, commit=True):
if commit:
self.__class__.session.commit()
def delete(self, commit=True):
"""
Delete current object to session.
"""
if commit:
self.__class__.session.commit()
def merge(self, commit=True):
"""
Merge current object to session.
"""
self.__class__.session.merge(self)
if commit:
self.__class__.session.commit()
self._session.flush()
self._session.commit()
except Exception:
logger.exception('error trying to flush and commit session')
finally: