@Test
void testDecodePath() throws Exception {
assertThat(decodePath(pathThatDoesNotNeedDecode)).isSameAs(pathThatDoesNotNeedDecode);
assertThat(decodePath("/foo%20bar\u007fbaz")).isEqualTo("/foo bar\u007fbaz");
assertThat(decodePath("/%C2%A2")).isEqualTo("/¢"); // Valid UTF-8 sequence
assertThat(decodePath("/%20\u0080")).isEqualTo("/ �"); // Unallowed character
assertThat(decodePath("/%")).isEqualTo("/�"); // No digit
assertThat(decodePath("/%1")).isEqualTo("/�"); // Only a single digit
assertThat(decodePath("/%G0")).isEqualTo("/�"); // First digit is not hex.
assertThat(decodePath("/%0G")).isEqualTo("/�"); // Second digit is not hex.
assertThat(decodePath("/%C3%28")).isEqualTo("/�("); // Invalid UTF-8 sequence