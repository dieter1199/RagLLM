.macro set_tls_none, tp, tmp1, tmp2
.macro set_tls_v6k, tp, tmp1, tmp2
mov	\tmp1, #0
mcr	p15, 0, \tmp1, c13, c0, 2	@ clear user r/w TLS register
.macro set_tls_v6, tp, tmp1, tmp2
mcrne	p15, 0, \tp, c13, c0, 3		@ yes, set TLS register
movne	\tmp1, #0
mcrne	p15, 0, \tmp1, c13, c0, 2	@ clear user r/w TLS register
.macro set_tls_software, tp, tmp1, tmp2
#define set_tls		set_tls_none
#define set_tls		set_tls_v6
#define set_tls		set_tls_v6k
#define set_tls		set_tls_software