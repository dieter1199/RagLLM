unsigned int rand;
state->pos = 0;
state->rand = rand;
return (state->list[state->pos++] + state->rand) % state->count;