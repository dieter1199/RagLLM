#[cfg(unix)]
type CreateCommand = (
std::process::Command,
// TODO(@littledivy): Ideally this would return Option<ResourceId> but we are dealing with file descriptors
// all the way until setupChannel which makes it easier to share code between parent and child fork.
Option<i32>,
);
let pipe_fd = Some(fd1);
return Ok((command, pipe_fd));
pipe_fd: Option<i32>,
pipe_fd: Option<i32>,
let (command, pipe_fd) = create_command(state, args, &api_name)?;
spawn_child(state, command, pipe_fd)