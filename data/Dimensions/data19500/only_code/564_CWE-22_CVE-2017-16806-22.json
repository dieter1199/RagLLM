using AgentInterface.Api.Win32;
if (Environment.UserName.Equals("SYSTEM") && Tools.RunningPlatform() == Tools.Platform.Windows)
{
var task = Task.Run(() =>
{
try
{
ProcessStarter.PROCESS_INFORMATION procInfo;
ProcessStarter.StartProcessAndBypassUAC(path,  out procInfo);
}
catch (Exception)
{
//continue
}
});
processStarted = task.Wait(TimeSpan.FromSeconds(5));
}
else
{
var processStartInfo = new ProcessStartInfo(path);
var process = new Process {StartInfo = processStartInfo};
processStarted = process.Start();
processId = process.Id;
}