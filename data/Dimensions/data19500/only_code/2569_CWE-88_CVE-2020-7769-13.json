describe('Quoted-Printable Tests', function() {
describe('#encode', function() {
it('shoud encode UTF-8 string to QP', function() {
encodeFixtures.forEach(function(test) {
it('shoud encode Buffer to QP', function() {
describe('#wrap', function() {
it('should wrap long QP encoded lines', function() {
wrapFixtures.forEach(function(test) {
it('should wrap line ending with <CR>', function() {
describe('QP Streams', function() {
it('should transform incoming bytes to QP', function(done) {
encoder.on('data', function(chunk) {
encoder.on('end', function(chunk) {
let sendNextByte = function() {
it('should transform incoming bytes to QP and back', function(done) {
file.on('data', function(chunk) {
file.on('end', function() {
decoder.on('data', function(chunk) {
decoder.on('end', function() {