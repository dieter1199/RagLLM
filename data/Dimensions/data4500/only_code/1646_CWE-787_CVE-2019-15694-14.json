void writeBytes(const void* data, int length) {
int length() { return ptr - start; }
void reposition(int pos) { ptr = start + pos; }
int overrun(int itemSize, int nItems) {
int len = ptr - start + itemSize * nItems;
if (len < (end - start) * 2)