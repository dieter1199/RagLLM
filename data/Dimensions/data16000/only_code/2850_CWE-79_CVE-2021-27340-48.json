$sem_total += $sem_val;
} else {
echo '<div class="alert alert-danger alert-styled-left alert-bordered">' . _totalMustBe . ' <span class="text-bold">100%</span>!</div>';
echo '<h5 class="text-primary">' . _general . '</h5>';
echo '<h6><b>' . _scoreRounding . '</b></h6>';
echo '<label class="radio-inline"><INPUT type=radio name=values[ROUNDING] value=UP' . (($programconfig['ROUNDING'] == 'UP') ? ' CHECKED' : '') . '>' . _up . '</label>';
echo '<label class="radio-inline"><INPUT type=radio name=values[ROUNDING] value=DOWN' . (($programconfig['ROUNDING'] == 'DOWN') ? ' CHECKED' : '') . '>' . _down . '</label>';
echo '<label class="radio-inline"><INPUT type=radio name=values[ROUNDING] value=NORMAL' . (($programconfig['ROUNDING'] == 'NORMAL') ? ' CHECKED' : '') . '>' . _normal . '</label>';
echo '<label class="radio-inline"><INPUT type=radio name=values[ROUNDING] value=\'\'' . (($programconfig['ROUNDING'] == '') ? ' CHECKED' : '') . '>' . _none . '</label>';
echo '<h6><b>' . _assignmentSorting . '</b></h6>';
echo '<label class="radio-inline"><input type=radio name=values[ASSIGNMENT_SORTING] value=ASSIGNMENT_ID' . (($programconfig['ASSIGNMENT_SORTING'] == 'ASSIGNMENT_ID') ? ' CHECKED' : '') . '>' . _newestFirst . '</label>';
echo '<label class="radio-inline"><INPUT type=radio name=values[ASSIGNMENT_SORTING] value=DUE_DATE' . (($programconfig['ASSIGNMENT_SORTING'] == 'DUE_DATE') ? ' CHECKED' : '') . '>' . _dueDate . '</label>';
echo '<label class="radio-inline"><INPUT type=radio name=values[ASSIGNMENT_SORTING] value=ASSIGNED_DATE' . (($programconfig['ASSIGNMENT_SORTING'] == 'ASSIGNED_DATE') ? ' CHECKED' : '') . '>' . _assignedDate . '</label>';
echo '<label class="radio-inline"><INPUT type=radio name=values[ASSIGNMENT_SORTING] value=UNGRADED' . (($programconfig['ASSIGNMENT_SORTING'] == 'UNGRADED') ? ' CHECKED' : '') . '>' . _ungraded . '</label>';
echo '<label class="checkbox-inline"><INPUT type=checkbox name=values[WEIGHT] value=Y' . (($programconfig['WEIGHT'] == 'Y') ? ' CHECKED' : '') . '>' . _weightGrades . '</label>';
echo '<label class="checkbox-inline"><INPUT type=checkbox name=values[DEFAULT_ASSIGNED] value=Y' . (($programconfig['DEFAULT_ASSIGNED'] == 'Y') ? ' CHECKED' : '') . '>' . _assignedDateDefaultsToToday . '</label>';
echo '<label class="checkbox-inline"><INPUT type=checkbox name=values[DEFAULT_DUE] value=Y' . (($programconfig['DEFAULT_DUE'] == 'Y') ? ' CHECKED' : '') . '>' . _dueDateDefaultsToToday . '</label>';
echo '<label class="checkbox-inline"><INPUT type=checkbox name=values[ELIGIBILITY_CUMULITIVE] value=Y' . (($programconfig['ELIGIBILITY_CUMULITIVE'] == 'Y') ? ' CHECKED' : '') . '>' . _calulateExtracurricularUsingCumulativeSemesterGrades . '</label>';
echo '<div class="col-md-2"><INPUT class="form-control" type=text name=values[ANOMALOUS_MAX] value="' . ($programconfig['ANOMALOUS_MAX'] != '' ? $programconfig['ANOMALOUS_MAX'] : '100') . '" size=3 maxlength=3></div><label class="col-md-10 control-label">% ' . _allowedMaximumPercentInAnomalousGrades . '</label>';
echo '<div class="col-md-2"><INPUT class="form-control" type=text name=values[LATENCY] value="' . round($programconfig['LATENCY']) . '" size=3 maxlength=3></div><label class="col-md-10 control-label">' . _daysUntilUngradedAssignmentGradeAppearsInParentStudentGradebookViews . '</label>';
echo '</SELECT></div><label class="col-md-10 control-label">' . _defaultCommentCode . '</label>';
echo '<legend><b>' . _scoreBreakoffPoints . '</b></legend>';
if ($quarters) {
} else {
if ($semesters) {
} else {
echo '<h5 class="text-primary">' . _finalGradingPercentages . '</h5>';
$table .= '<TD>' . $qtrs['TITLE'] . ' ' . _exam . '</TD>';
$table .= '<TD><INPUT class="form-control" type=text name=values[Q-' . $qtrs['MARKING_PERIOD_ID'] . '] value="' . $programconfig['Q-' . $qtrs['MARKING_PERIOD_ID']] . '" class= "mp_per" size=6 maxlength=6 onkeydown="return numberOnlyMod(event, this);"></TD>';
$table .= '<TD><INPUT class="form-control" type=text name=values[Q-E' . $qtrs['MARKING_PERIOD_ID'] . '] value="' . $programconfig['Q-E' . $qtrs['MARKING_PERIOD_ID']] . '" class= "mp_per" size=6 maxlength=6 onkeydown="return numberOnlyMod(event, this);"></TD>';
$table .= '<TD style="width: 150px;vertical-align: middle;text-align:center;"><div class="text-danger" style="width: 150px; white-space: nowrap;">' . _totalNot_100 . '!</div></TD>';
if (empty(!$quarters)) {
foreach ($quarters[$sem['MARKING_PERIOD_ID']] as $qtr) {
if ($qtr['DOES_GRADES'] == 'Y') {
} else {
$table .= '<TD>' . $sem['TITLE'] . ' ' . _exam . '</TD>';
if (empty(!$quarters)) {
if ($qtr['DOES_GRADES'] == 'Y') {
} else {
$table .= '<TD style="width: 150px;vertical-align: middle;text-align:center;"><div class="text-danger">' . _totalNot_100 . '!</div></TD>';
if (!empty($semesters) && $year[1]['DOES_EXAM'] == '') {
} else {
$table = '<TABLE style="' . $year_tab_style . '" class="table table-bordered table-striped"><tbody>';
//    foreach ($semesters as $sem) {
//        foreach ($quarters[$sem['MARKING_PERIOD_ID']] as $qtr)
////            $table .= '<TD style="white-space:nowrap">' . $qtr['TITLE'] . '</TD>';
//        if ($sem['DOES_GRADES'] == 'Y')
//            $table .= '<TD style="white-space:nowrap">' . $sem['TITLE'] . '</TD>';
////        if ($sem['DOES_EXAM'] == 'Y')
////            $table .= '<TD style="white-space:nowrap">' . $sem['TITLE'] . ' Exam</TD>';
//    }
// foreach($quarters[$sem['MARKING_PERIOD_ID']] as $qtr)
// 	$table .= '<TD style="white-space:nowrap">'.$qtr['TITLE'].'</TD>';
// if($sem['DOES_EXAM']=='Y')
// 	$table .= '<TD style="white-space:nowrap">'.$sem['TITLE'].' Exam</TD>';
} else {
$table .= '<TD>' . $year[1]['TITLE'] . ' ' . _exam . '</TD>';
$table .= '<TD><INPUT type=text class="form-control" name=values[FY-' . $sem['MARKING_PERIOD_ID'] . '] value="' . $programconfig['FY-' . $sem['MARKING_PERIOD_ID']] . '" class= "mp_per" size=6 maxlength=6 onkeydown="return numberOnlyMod(event, this);"></TD>';
$table .= '<TD><INPUT type=text class="form-control"  name=values[FY-' . $year[1]['MARKING_PERIOD_ID'] . '] value="' . $programconfig['FY-' . $year[1]['MARKING_PERIOD_ID']] . '" class= "mp_per" size=6 maxlength=6 onkeydown="return numberOnlyMod(event, this);"></TD>';
$table .= '<TD><INPUT type=text class="form-control" name=values[FY-E' . $year[1]['MARKING_PERIOD_ID'] . '] value="' . $programconfig['FY-E' . $year[1]['MARKING_PERIOD_ID']] . '" size=6 maxlength=6></TD>';
$table .= '<TD style="white-space:nowrap; width: 150px;vertical-align: middle;text-align:center;"><div class="text-danger">' . _totalNot_100 . '!</div></TD>';
echo '<br/><INPUT type=submit value=' . _save . ' class="btn btn-primary" onclick="self_disable(this);">';
