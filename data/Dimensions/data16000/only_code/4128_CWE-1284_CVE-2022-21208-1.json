export type ReadMessageFuncType = (data: Buffer) => PacketInfo;
readMessageFunc: ReadMessageFuncType;
// the minimum number of bytes that need to be received before the readMessageFunc can be called
private readonly readMessageFunc: ReadMessageFuncType;
this.readMessageFunc = options.readMessageFunc;
assert(typeof this.readMessageFunc === "function", "packet assembler requires a readMessageFunc");
this.expectedLength = this.packetInfo.length;
assert(this.expectedLength > 0);
this.emit("newMessage", this.packetInfo, data);
this.emit("message", messageChunk);
return this.readMessageFunc(data);
private _buildData(data: Buffer) {
