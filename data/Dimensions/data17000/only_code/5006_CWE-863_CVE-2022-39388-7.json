"strings"
"Authenticate plain text requests - used if Istiod is behind a gateway handling TLS").Get()
authFailMsgs := []string{}
for _, authn := range s.Authenticators {
u, err := authn.Authenticate(ctx)
// If one authenticator passes, return
if u != nil && u.Identities != nil && err == nil {
return u.Identities, nil
}
authFailMsgs = append(authFailMsgs, fmt.Sprintf("Authenticator %s: %v", authn.AuthenticatorType(), err))
}
log.Errorf("Failed to authenticate client from %s: %s", peerInfo.Addr.String(), strings.Join(authFailMsgs, "; "))