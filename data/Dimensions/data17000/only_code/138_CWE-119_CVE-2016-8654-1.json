int hstartcol;
hstartcol = (numrows + 1 - parity) >> 1;
// ORIGINAL (WRONG): m = (parity) ? hstartcol : (numrows - hstartcol);
m = numrows - hstartcol;
dstptr = &a[hstartcol * stride];
int hstartcol;
if (!(buf = jas_alloc2(bufsize, sizeof(jpc_fix_t)))) {
hstartcol = (numrows + 1 - parity) >> 1;
// ORIGINAL (WRONG): m = (parity) ? hstartcol : (numrows - hstartcol);
m = numrows - hstartcol;
dstptr = &a[hstartcol * stride];
if (!(buf = jas_alloc2(bufsize, sizeof(jpc_fix_t)))) {
if (!(buf = jas_alloc3(bufsize, JPC_QMFB_COLGRPSIZE, sizeof(jpc_fix_t)))) {