use Git;
$this->branch_creation_executor
$this->expectExceptionMessage("User cannot update the content of the repository");
$user = $this->createMock(\PFUser::class);
$user->method('hasPermission')->willReturnMap([
[Git::PERM_WRITE, self::REPO_ID, self::PROJECT_ID, true],
[Git::PERM_WPLUS, self::REPO_ID, self::PROJECT_ID, true],
]);
$user = $this->createMock(\PFUser::class);
$user->method('hasPermission')->willReturnMap([
[Git::PERM_WRITE, self::REPO_ID, self::PROJECT_ID, false],
[Git::PERM_WPLUS, self::REPO_ID, self::PROJECT_ID, false],
]);