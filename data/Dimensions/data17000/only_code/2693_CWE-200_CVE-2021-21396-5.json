import Wire.API.User.Client (Client)
deriving newtype (Semigroup, Monoid, ToJSON, FromJSON)
instance ToSchema (UserMap (Set Client)) where
mapSch <- declareSchema (Proxy @(Map UserId (Set Client)))
NamedSchema (Just "UserMap (Set Client)") $
& description ?~ "Map of UserId to (Set Client)"
& example ?~ toJSON (Map.singleton (generateExample @UserId) (Set.singleton (generateExample @Client)))