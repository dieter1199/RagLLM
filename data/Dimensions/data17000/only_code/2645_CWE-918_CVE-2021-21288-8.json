attr_reader :file
@file = file.is_a?(String) ? StringIO.new(file) : file
mime_type = MiniMime.lookup_by_content_type(file.content_type)
return nil unless file.meta.include? 'content-disposition'
match = file.meta['content-disposition'].match(/filename=(?:"([^"]+)"|([^";]+))/)
CGI.unescape(File.basename(file.base_uri.path))