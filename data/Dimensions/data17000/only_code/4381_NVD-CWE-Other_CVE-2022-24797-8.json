mu             sync.RWMutex
installationID string
serviceName    string
addr           string
basicAuth      string
handler        http.Handler
mgr.updateInfo(cfg)
mgr.updateServer(cfg)
func (mgr *MetricsManager) updateInfo(cfg *Config) {
log.Error(context.TODO()).Err(err).Msg("telemetry/metrics: failed to get OS hostname")
func (mgr *MetricsManager) updateServer(cfg *Config) {
cfg.Options.InstallationID == mgr.installationID {
log.Info(context.TODO()).Msg("metrics: http server disabled")
handler, err := metrics.PrometheusHandler(EnvoyAdminURL, mgr.installationID)
log.Error(context.TODO()).Err(err).Msg("metrics: failed to create prometheus handler")