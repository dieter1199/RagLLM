use Sulu\Component\Webspace\Security;
use Sulu\Component\Webspace\Webspace;
public function provideSetWebsiteSystem()
{
return [
['sulu-test'],
['sulu-blog'],
];
}
/**
* @dataProvider provideSetWebsiteSystem
*/
public function testSetWebsiteSystem(string $system): void
{
$systemListener = $this->createSystemListener('website');
$requestEvent = $this->prophesize(RequestEvent::class);
$webspace = new Webspace();
$security = new Security();
$security->setSystem($system);
$webspace->setSecurity($security);
$this->requestAnalyzer->getWebspace()->willReturn($webspace);
$systemListener->onKernelRequest($requestEvent->reveal());
$this->systemStore->setSystem($system)->shouldBeCalled();
}
