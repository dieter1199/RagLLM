whatsmounted = cmd_exec.run("mount")['retout']
whatsmounted_converted = config.convert(whatsmounted)
for line in whatsmounted_converted:
tokens = line.split()
tmpfs = False
if len(tokens) < 3:
continue
if tokens[0] == 'tmpfs':
tmpfs = True
if tokens[2] == secdir:
if not tmpfs:
logger.error("secure storage location %s already mounted "
"on wrong file system type: %s.  Unmount to"
"continue.", secdir, tokens[0])
raise Exception(
f"secure storage location {secdir} already mounted on "
f"wrong file system type: {tokens[0]}.  Unmount to "
f"continue.")
"secure storage location %s already mounted on tmpfs" % secdir)
logger.debug("secure storage location %s not mounted " % secdir)