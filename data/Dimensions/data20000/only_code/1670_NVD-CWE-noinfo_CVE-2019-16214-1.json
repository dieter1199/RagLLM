use regex::Regex;
// Since lalrpop can't handle comments without a custom lexer, we somewhat hackily remove all the
// comments from the input string before passing it off to lalrpop. We only support single line
// comments for now. Will later on add in other comment types.
fn strip_comments(string: &str) -> String {
// Remove line comments
let line_comments = Regex::new(r"(?m)//.*$").unwrap();
line_comments.replace_all(string, "$1").into_owned()
let stripped_string = &strip_comments(program_str);
Err(e) => handle_error(e, program_str),
let stripped_string = &strip_comments(script_str);
Err(e) => handle_error(e, script_str),
let stripped_string = &strip_comments(modules_str);
Err(e) => handle_error(e, modules_str),
let stripped_string = &strip_comments(cmd_str);
Err(e) => handle_error(e, cmd_str),