$form['content_type']['types'] = array(
$form['messages']['admin_subject'] = array(
$form['messages']['admin_message'] = array(
$form['messages']['send_user_message'] = array(
$form['messages']['user_subject'] = array(
$form['messages']['user_message'] = array(
$form['thank_you']['thank_you_title'] = array(
$form['thank_you']['thank_you_message'] = array(
$form['save'] = array(
'#type' => 'submit',
'#value' => t('Save configuration'),
);
return $form;
}
/**
* Callback for the admin configuration page submit function
*/
function basic_cart_admin_content_type_submit($form_id, $form_state) {
$types = $form_state['values']['types'];
$selected_types = array();
foreach ($types as $type) {
if (!empty($type)) {
$selected_types[] = $type;
}
}
// Content types.
variable_set('basic_cart_content_types', $selected_types);
// Admin message.
variable_set('basic_cart_admin_message', $form_state['values']['admin_message']);
variable_set('basic_cart_admin_subject', $form_state['values']['admin_subject']);
// User message.
variable_set('basic_cart_send_user_message', $form_state['values']['send_user_message']);
variable_set('basic_cart_user_message', $form_state['values']['user_message']);
variable_set('basic_cart_user_subject', $form_state['values']['user_subject']);
// Thank you message.
variable_set('basic_cart_thank_you_title', $form_state['values']['thank_you_title']);
variable_set('basic_cart_thank_you_message', $form_state['values']['thank_you_message']);
// Message.
drupal_set_message(t('The configuration options have been saved.'));
