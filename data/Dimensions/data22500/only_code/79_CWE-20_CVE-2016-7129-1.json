tmp = emalloc(len + 1);
memcpy(tmp, s, len);
Z_TYPE_P(ent->data) = IS_STRING;
Z_STRLEN_P(ent->data) = len;
Z_STRVAL_P(ent->data) = estrndup(s, len);
efree(tmp);