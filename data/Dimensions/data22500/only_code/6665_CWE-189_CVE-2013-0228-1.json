movl TI_cpu(%eax), %eax
movl __per_cpu_offset(,%eax,4), %eax
mov xen_vcpu(%eax), %eax
movl xen_vcpu, %eax
setz XEN_vcpu_info_mask(%eax)
cmpw $0x0001, XEN_vcpu_info_pending(%eax)
movb $1, XEN_vcpu_info_mask(%eax)