if (n <= 0) return(n); /* error or non-blocking io */
