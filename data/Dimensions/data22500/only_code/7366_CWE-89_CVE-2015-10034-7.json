import java.sql.Statement;
return getWorkouts("SELECT workouts.*, gyms.gym_name "
+ "FROM workouts "
+ "LEFT JOIN gyms using (gym_id) "
+ "ORDER BY workouts.finished_at DESC");
return getWorkouts("SELECT workouts.*, gyms.gym_name "
+ "FROM workouts "
+ "LEFT JOIN gyms using (gym_id) "
+ "WHERE user_id = " + userId + " "
+ "ORDER BY workouts.finished_at DESC");
private List<Workout> getWorkouts(String sql) {
Connection connection = null;
connection = DB.getConnection();
Statement statement = connection.createStatement();
ResultSet resultSet = statement.executeQuery(sql);
statement.close();
} finally {
if (connection != null) {
try {
connection.close();
} catch (SQLException e) {
e.printStackTrace();
}
}
