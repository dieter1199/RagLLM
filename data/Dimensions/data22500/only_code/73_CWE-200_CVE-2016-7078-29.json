get :nest, {:id => Hostgroup.first.id}, set_session_user
get :clone, {:id => Hostgroup.first}, set_session_user
get :edit, {:id => Hostgroup.first}, set_session_user
put :update, {:id => Hostgroup.first, :hostgroup => { :name => '' }}, set_session_user
put :update, {:id => Hostgroup.first, :hostgroup => { :name => Hostgroup.first.name }}, set_session_user
get :edit, {:id => Hostgroup.first.id}, set_session_user.merge(:user => users(:one).id)
assert_equal @response.status, 403
xhr :post, :domain_selected, {:id => Hostgroup.first, :hostgroup => {}, :domain_id => domain.id, :format => :json}, set_session_user
xhr :post, :domain_selected, {:id => Hostgroup.first, :hostgroup => {}, :format => :json, :domain_id => nil}, set_session_user
post :architecture_selected, {:id => Hostgroup.first, :hostgroup => {}, :architecture_id => nil}, set_session_user
hostgroup = Hostgroup.where(:name => "test_it").last
assert_equal "overridden", hostgroup.parameters["x"]
child.reload
assert_equal "overridden", child.parameters["x"]
child.reload
assert_equal "overridden", child.parameters["y"]
assert_equal "", child.parameters["x"]