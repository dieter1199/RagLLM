for (_Length=0, i=0; i<UTF8string.length(); _Length++) {
uint8 lead = static_cast<uint8>(UTF8string[i]);
if (lead < 0x80)
i++;
else if ((lead >> 5) == 0x6)
i += 2;
else if ((lead >> 4) == 0xe)
i += 3;
else if ((lead >> 3) == 0x1e)
i += 4;
for (j=0, i=0; i<UTF8string.length(); j++) {
uint8 lead = static_cast<uint8>(UTF8string[i]);
if (lead < 0x80) {
i++;
} else if ((lead >> 5) == 0x6) {
i += 2;
} else if ((lead >> 4) == 0xe) {
i += 3;
} else if ((lead >> 3) == 0x1e) {
i += 4;
} else
// Invalid char?
break;