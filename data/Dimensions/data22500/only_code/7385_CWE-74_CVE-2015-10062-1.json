def restore_text(text):
for key, value in mapped_chars.items():
def sanitize_text(text):
and lists of strings.
if isinstance( text, basestring ):
return _sanitize_text_helper(text)
elif isinstance( text, list ):
return [ _sanitize_text_helper(t) for t in text ]
def _sanitize_text_helper(text):
if c in valid_chars:
elif c in mapped_chars:
out.append(mapped_chars[c])
out.append('X')  # makes debugging easier
def sanitize_param(value):
return sanitize_text(value)
return map(sanitize_text, value)
