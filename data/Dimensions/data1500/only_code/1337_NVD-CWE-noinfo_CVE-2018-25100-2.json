my $origin = $cookie->origin // '';
next unless my $domain = lc($cookie->domain // $origin);
@$jar = (grep({ _compare($_, $path, $name, $origin) } @$jar), $cookie);
my $host   = lc $url->ihost;
my $domain = lc($cookie->domain // $cookie->origin($host)->origin);
next unless $cookie->domain || $host eq $cookie->origin;
my ($cookie, $path, $name, $origin) = @_;
return 1 if $cookie->path ne $path || $cookie->name ne $name;
return ($cookie->origin // '') ne $origin;