hname = (char *)realloc(hname, offset + ret);