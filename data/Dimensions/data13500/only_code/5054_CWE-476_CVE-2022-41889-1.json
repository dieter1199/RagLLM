#define PARSE_LIST(c_type, parse_fn)                                      \
std::unique_ptr<c_type[]> values(new c_type[num_values]);               \
for (int i = 0; i < num_values; ++i) {                                  \
tensorflow::Safe_PyObjectPtr py_value(PySequence_ITEM(py_list, i));   \
if (!parse_fn(key, py_value.get(), status, &values[i])) return false; \