if (pos < mysql->net.read_pos+length)
if (pos < mysql->net.read_pos + length)
size_t item_len= net_field_length(&pos);  /* length for all items */
while (item_len > 0)
old_pos= pos;
{
ma_clear_session_state(mysql);
SET_CLIENT_ERROR(mysql, CR_OUT_OF_MEMORY, SQLSTATE_UNKNOWN, 0);
return -1;
}
{
ma_clear_session_state(mysql);
SET_CLIENT_ERROR(mysql, CR_OUT_OF_MEMORY, SQLSTATE_UNKNOWN, 0);
return -1;
}
if (set_charset &&
char cs_name[64];
MARIADB_CHARSET_INFO *cs_info;
if ((cs_info = (MARIADB_CHARSET_INFO *)mysql_find_charset_name(cs_name)))
item_len-= (pos - old_pos);