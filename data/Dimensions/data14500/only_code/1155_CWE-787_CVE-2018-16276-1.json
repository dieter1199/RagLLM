int retval = 0;
int bytes_read = 0;
retval = -ENODEV;
goto exit;
bytes_read = snprintf(in_buffer, 20, "%lld\n", dev->bbu);
if (*ppos < bytes_read) {
if (copy_to_user(buffer, in_buffer + *ppos, bytes_read - *ppos))
retval = -EFAULT;
else {
retval = bytes_read - *ppos;
*ppos += bytes_read;
}
}
exit:
return retval;
