from rest_framework import status
from rest_framework.permissions import AllowAny, IsAuthenticated
class APIRootView(NautobotAPIVersionMixin, APIView):
This is the root of the REST API. API endpoints are arranged by app and model name; e.g. `/api/dcim/locations/`.
_ignore_model_permissions = True
def get_view_name(self):
return "API Root"
if not request.user.is_authenticated:
doc_url = reverse("api_docs")
login_url = reverse(settings.LOGIN_URL)
return redirect(f"{login_url}?next={doc_url}")
The code is a stripped down version of graphene-django default View
https://github.com/graphql-python/graphene-django/blob/main/graphene_django/views.py#L57
permission_classes = [AllowAny]
