func newMockResourceServer(t testing.TB) ResourceServer {
"issuer": "https://dev-14186422.okta.com",
"jwks_uri": "URL/keys",
}`, "URL", *serverURL))
defer s.Close()
BaseURL: stdlibConfig.URL{URL: *config.MustParseURL(s.URL)},
return r
}
func TestNewOAuth2ResourceServer(t *testing.T) {
newMockResourceServer(t)
r := newMockResourceServer(t)
_, err := r.ValidateAccessToken(context.Background(), "myserver", sampleIDToken)
assert.Error(t, err)
