w = r.width();
h = r.height();
buf = getBufferRW(r, &stride);
commitBufferRW(r);