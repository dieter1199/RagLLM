* get_desc() - Obtain pointer to a segment descriptor
* Pointer to segment descriptor on success.
static struct desc_struct *get_desc(unsigned short sel)
struct desc_struct *desc = NULL;
if (ldt && sel < ldt->nr_entries)
desc = &ldt->entries[sel];
return desc;
return NULL;
return (struct desc_struct *)(gdt_desc.address + desc_base);
struct desc_struct *desc;
desc = get_desc(sel);
if (!desc)
return get_desc_base(desc);
struct desc_struct *desc;
desc = get_desc(sel);
if (!desc)
limit = get_desc_limit(desc);
if (desc->g)
struct desc_struct *desc;
desc = get_desc(sel);
if (!desc)
if (!(desc->type & BIT(3)))
switch ((desc->l << 1) | desc->d) {