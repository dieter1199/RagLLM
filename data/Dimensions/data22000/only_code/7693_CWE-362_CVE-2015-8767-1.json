struct net *net = sock_net(asoc->base.sk);
bh_lock_sock(asoc->base.sk);
if (sock_owned_by_user(asoc->base.sk)) {
asoc->base.sk->sk_err = -error;
bh_unlock_sock(asoc->base.sk);
struct net *net = sock_net(asoc->base.sk);
bh_lock_sock(asoc->base.sk);
if (sock_owned_by_user(asoc->base.sk)) {
asoc->base.sk->sk_err = -error;
bh_unlock_sock(asoc->base.sk);
struct net *net = sock_net(asoc->base.sk);
bh_lock_sock(asoc->base.sk);
if (sock_owned_by_user(asoc->base.sk)) {
asoc->base.sk->sk_err = -error;
bh_unlock_sock(asoc->base.sk);
struct net *net = sock_net(asoc->base.sk);
bh_lock_sock(asoc->base.sk);
if (sock_owned_by_user(asoc->base.sk)) {
bh_unlock_sock(asoc->base.sk);