$g_project_override = bug_get_field( $t_bug_id, 'project_id' );
if(   access_compare_level(
user_get_access_level( auth_get_current_user_id(),
bug_get_field( $t_bug_id, 'project_id' ) ),
config_get( 'private_bugnote_threshold' )
)
|| bugnote_get_field( $c_bugnote_id, 'reporter_id' ) == auth_get_current_user_id()
|| bugnote_get_field( $c_bugnote_id, 'view_state' ) == VS_PUBLIC
) {
$g_project_override = null;
return $p_array[1] .
string_get_bugnote_view_link(
$t_bug_id,
$c_bugnote_id,
(boolean)$p_detail_info,
(boolean)$p_fqdn
);