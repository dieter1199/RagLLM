if (count($_REQUEST['month_values'])) {
//            if (!VerifyDate($_REQUEST['values'][$field_name])) {
//                if ($_REQUEST['values'][$field_name] != '--')
//                    $note = '<IMG SRC=assets/warning_button.gif>The date you specified is not valid, so was not used.  The other data was saved.';
//                unset($_REQUEST['values'][$field_name]);
//            }
if ($values[1] . trim() != '')
if ($values[2] . trim() != '')
if ($values[3] . trim() != '')
if ($values[1] . trim() != '')
if ($values[2] . trim() != '')
if ($values[3] . trim() != '')
// ShowErr('<div class="alert bg-warning alert-styled-left">' . _youMustChooseAtLeastOneFieldAndOneStudent . '.</div>');
//        if ($_REQUEST['category_id']) {
//            $fields_RET = DBGet(DBQuery('SELECT ID,TITLE,TYPE,SELECT_OPTIONS FROM custom_fields WHERE CATEGORY_ID=\'' . $_REQUEST[category_id] . '\''), array(), array('TYPE'));
//        } else {
//            $fields_RET = DBGet(DBQuery('SELECT ID,TITLE,TYPE,SELECT_OPTIONS FROM custom_fields'), array(), array('TYPE'));
//        }
$fields_RET = DBGet(DBQuery('SELECT ID,TITLE,TYPE,SELECT_OPTIONS FROM custom_fields WHERE CATEGORY_ID=\'' . $_REQUEST[category_id] . '\''), array(), array('TYPE'));
//        if ($_REQUEST[category_id] == 'all') {
//
//            $arr_g = array(firstName,middleName,'Last Name','Estimated Grad. Date','Ethnicity', 'Common Name', 'Gender', 'Language', 'Email', 'Phone');
//            foreach ($arr_g as $v_g) {
//                if ($v_g == ''._commonName.'') {
//                    $v_g = 'common_name';
//                }
//
//                if($v_g==''._estimatedGradDate.'' || $v_g==''._estimatedGradDate.'')
//                    array_push($fields, '<div class=form-group>' .$v_g.' '. _makeDateInput($v_g) . '</div>');
//            else
//                array_push($fields, '<div class=form-group>' . _makeTextInput($v_g) . '</div>');
//            }
//
//
////        echo '<div class="col-md-12">';
////        echo '<span class="heading-text">'._section.'</span><div class="btn-group">';
////
////
////        $school_id = UserSchool();
////        $sql = 'SELECT * FROM school_gradelevel_sections WHERE SCHOOL_ID=\''.$school_id.'\' ORDER BY SORT_ORDER';
////        $QI = DBQuery($sql);
////        $sec_RET = DBGet($QI);
////        unset($options);
////        if(count($sec_RET))
////        {
////                foreach($sec_RET as $value)
////                        $options[$value['ID']] = $value['NAME'];
////        }
////
////        echo _makeSelectInput('SECTION_ID',$options);
////        echo'</div>';
//
//
//
//            $arr_m = array('Physician', 'Physician\'s Phone', 'Preferred Hospital');
//
//            foreach ($arr_m as $v_m) {
//
//                if (trim($v_m) == physician) {
//                    $v_m_n = 'medical_info[PHYSICIAN]';
//                    array_push($fields, '<div class="form-group">' . _makeTextInput($v_m_n) . '</div>');
//                }if (trim($v_m) == physicianSPhone) {
//                    $v_m_n = 'medical_info[PHYSICIAN_PHONE]';
//                    array_push($fields, '<div class="form-group">' . _makeTextInput($v_m_n) . '</div>');
//                } else if (trim($v_m) == preferredHospital) {
//                    $v_m_n = 'medical_info[PREFERRED_HOSPITAL]';
//                    array_push($fields, '<div class="form-group">' . _makeTextInput($v_m_n) . '</div>');
//                }
//            }
//        }
if ($_REQUEST[category_id] == 2) {
if ($_REQUEST[category_id] == 1 || $_REQUEST[category_id] == '') {
// $ethnic_option = array($ethnicity[1]['ETHNICITY_ID'] => $ethnicity[1]['ETHNICITY_NAME'], $ethnicity[2]['ETHNICITY_ID'] => $ethnicity[2]['ETHNICITY_NAME'],$ethnicity[3]['ETHNICITY_ID'] => $ethnicity[3]['ETHNICITY_NAME'],$ethnicity[4]['ETHNICITY_ID'] => $ethnicity[4]['ETHNICITY_NAME'],$ethnicity[5]['ETHNICITY_ID'] => $ethnicity[5]['ETHNICITY_NAME'],$ethnicity[6]['ETHNICITY_ID'] => $ethnicity[6]['ETHNICITY_NAME'],$ethnicity[7]['ETHNICITY_ID'] => $ethnicity[7]['ETHNICITY_NAME'],$ethnicity[8]['ETHNICITY_ID'] => $ethnicity[8]['ETHNICITY_NAME'],$ethnicity[9]['ETHNICITY_ID'] => $ethnicity[9]['ETHNICITY_NAME'],$ethnicity[10]['ETHNICITY_ID'] => $ethnicity[10]['ETHNICITY_NAME'],$ethnicity[11]['ETHNICITY_ID'] => $ethnicity[11]['ETHNICITY_NAME']);
if ($_REQUEST[category_id] == 6) {
$fields_RET = DBGet(DBQuery('SELECT ID,TITLE,TYPE,SELECT_OPTIONS FROM custom_fields WHERE CATEGORY_ID=\'' . $_REQUEST[category_id] . '\''), array(), array('TYPE'));
if ($_REQUEST[category_id] == 4) {
$fields_RET = DBGet(DBQuery('SELECT ID,TITLE,TYPE,SELECT_OPTIONS FROM custom_fields WHERE CATEGORY_ID=\'' . $_REQUEST[category_id] . '\''), array(), array('TYPE'));
if (count($fields_RET['text'])) {
//                $title = strtolower(trim($field['TITLE']));
//                if (strpos(trim($field['TITLE']), ' ') != 0) {
//                    $p1 = substr(trim($field['TITLE']), 0, strpos(trim($field['TITLE']), ' '));
//                    $p2 = substr(trim($field['TITLE']), strpos(trim($field['TITLE']), ' ') + 1);
//                    $title = strtolower($p1 . '_' . $p2);
//                }
//                $query = DBGet(DBQuery('SELECT * FROM students LIMIT 0,1'));
//                $query = $query[1];
//                $f = 0;
//                foreach ($query as $k => $v) {
//                    if (strtolower($k) == strtolower($title))
//                        $f = 1;
//                }
//                if ($f == 0) {
//                    if (trim($title) == 'physician')
//                        $title = 'medical_info[PHYSICIAN]';
//                    if (trim($title) == 'physician_phone')
//                        $title = 'medical_info[PHYSICIAN_PHONE]';
//                    else if (trim($title) == 'preferred_hospital')
//                        $title = 'medical_info[PREFERRED_HOSPITAL]';
//                }
if (count($fields_RET['numeric'])) {
if (count($fields_RET['date'])) {
if (count($fields_RET['select'])) {
if ($field[TITLE] == 'Ethnicity' || $field[TITLE] == 'Gender' || $field[TITLE] == 'Language') {
array_push($fields, "<div class=\"form-group\"><label class=\"control-label col-lg-4 text-right\" for=\"CUSTOM_" . $field['ID'] . "\">$field[TITLE]</label><div class=\"col-lg-8\">" . _makeSelectInput($field[TITLE], $select_options) . '</div></div>');
if (count($fields_RET['textarea'])) {
/*if (!$_REQUEST['category_id'] || $_REQUEST['category_id'] == '1') {
$schools_RET = DBGet(DBQuery('SELECT ID,TITLE FROM schools WHERE ID!=\'' . UserSchool() . '\''));
$options = array(UserSchool() => 'Next grade at current school', '0' => 'Retain', '-1' => 'Do not enroll after this school year');
if (count($schools_RET)) {
foreach ($schools_RET as $school)
$options[$school['ID']] = $school['TITLE'];
}
array_push($fields, '<div class="form-group"><label class="control-label text-right col-lg-4" for="CUSTOM_' . $field['ID'].'">Rolling Retention / Options</label><div class="col-lg-8">' . _makeSelectInput('NEXT_SCHOOL', $options) . '</div></div>');
$calendars_RET = DBGet(DBQuery('SELECT CALENDAR_ID,DEFAULT_CALENDAR,TITLE FROM school_calendars WHERE SYEAR=\'' . UserSyear() . '\' AND SCHOOL_ID=\'' . UserSchool() . '\' ORDER BY DEFAULT_CALENDAR ASC'));
$options = array();
if (count($calendars_RET)) {
foreach ($calendars_RET as $calendar)
$options[$calendar['CALENDAR_ID']] = $calendar['TITLE'];
}
array_push($fields, '<div class="form-group"><label class="control-label text-right col-lg-4" for="CUSTOM_' . $field['ID'].'">Calendar</label><div class="col-lg-8">' . _makeSelectInput('CALENDAR_ID', $options) . '</div></div>');
}*/
/*if ($_REQUEST['category_id'] == '') {
//         echo '<div class="col-md-12">';
//        echo '<span class="heading-text">'._section.'</span><div class="btn-group">';
//
$school_id = UserSchool();
$sql = 'SELECT * FROM school_gradelevel_sections WHERE SCHOOL_ID=\'' . $school_id . '\' ORDER BY SORT_ORDER';
$QI = DBQuery($sql);
$sec_RET = DBGet($QI);
unset($options);
if (count($sec_RET)) {
foreach ($sec_RET as $value)
$options[$value['ID']] = $value['NAME'];
}
//        echo _makeSelectInput('SECTION_ID',$options);
array_push($fields, '<div class="form-group"><label class="control-label text-right col-lg-4">'._section.'</label><div class="col-lg-8">' . _makeSelectInput('SECTION_ID', $options) . '</div></div>');
//        echo'</div>';
$grade_level_RET = DBGet(DBQuery('SELECT * FROM school_gradelevels WHERE SCHOOL_ID=\'' . UserSchool() . '\' ORDER BY SORT_ORDER ASC'));
$options = array();
if (count($grade_level_RET)) {
foreach ($grade_level_RET as $grade)
$options[$grade['ID']] = $grade['TITLE'];
}
array_push($fields, '<div class="form-group"><label class="control-label text-right col-lg-4">'._schoolGradelevel.'</label><div class="col-lg-8">' . _makeSelectInput('GRADE_ID', $options) . '</div></div>');
}*/
$radio_count = count($fields_RET['radio']);
//echo '<TABLE cellpadding=5>';
//echo '<TR>';
//if ($i % 5 == 0 && $i != $radio_count)
//echo '</TR><TR>';
//echo '</TD></TR>';
//echo '</TABLE>';
//$test = array_map('htmlspecialchars', $fields);
$extra['columns_before'] = array('CHECKBOX' => '</A><INPUT type=checkbox value=Y name=controller onclick="checkAllDtMod(this,\'st_arr\');">');
return "<INPUT type=checkbox name=student[" . $THIS_RET['STUDENT_ID'] . "] value=Y id=$THIS_RET[STUDENT_ID] onClick='setHiddenCheckboxStudents(\"st_arr[]\",this,$THIS_RET[STUDENT_ID]);'>";
// $returnshape .= '<div class="col-lg-8"><input style="margin: 10px auto;" type="checkbox" id="values['.$identifier.']" name="values['.$identifier.']" size="25" value="Y"></div>';
