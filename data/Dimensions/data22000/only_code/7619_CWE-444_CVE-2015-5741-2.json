t.TransferEncoding, err = fixTransferEncoding(t.RequestMethod, t.Header)
func fixTransferEncoding(requestMethod string, header Header) ([]string, error) {
// Chunked encoding trumps Content-Length. See RFC 2616
// Section 4.4. Currently len(te) > 0 implies chunked
// encoding.
delete(header, "Content-Length")
cl := strings.TrimSpace(header.get("Content-Length"))
if !isResponse && requestMethod == "GET" {
// RFC 2616 doesn't explicitly permit nor forbid an
