jp2_box_t *jp2_box_create(int type)
jp2_boxinfo_t *boxinfo;
if (!(box = jas_malloc(sizeof(jp2_box_t)))) {
// Mark the box data as never having been constructed
// so that we will not errantly attempt to destroy it later.
box->ops = &jp2_boxinfo_unk.ops;
"preliminary processing of JP2 box: type=%c%s%c (0x%08x); length=%d\n",
if (jas_stream_copy(out, tmpstream, box->len - JP2_BOX_HDRLEN(false))) {
/* Eliminate warning about unused variable. */
box = 0;
out = 0;
