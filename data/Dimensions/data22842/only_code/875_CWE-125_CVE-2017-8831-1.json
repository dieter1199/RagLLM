memcpy(msg, &msg_tmp, sizeof(*msg));
/* msg wraps around the ring */
memcpy_fromio(msg, bus->m_pdwGetRing + curr_grp, space_rem);
memcpy_fromio((u8 *)msg + space_rem, bus->m_pdwGetRing,
sizeof(*msg) - space_rem);
memcpy_fromio(msg, bus->m_pdwGetRing + curr_grp, sizeof(*msg));
memcpy_fromio(msg, bus->m_pdwGetRing + curr_grp, sizeof(*msg));
memcpy_fromio(msg, bus->m_pdwGetRing + curr_grp, sizeof(*msg));
/* Convert from little endian to CPU */
msg->size = le16_to_cpu((__force __le16)msg->size);
msg->command = le32_to_cpu((__force __le32)msg->command);
msg->controlselector = le16_to_cpu((__force __le16)msg->controlselector);