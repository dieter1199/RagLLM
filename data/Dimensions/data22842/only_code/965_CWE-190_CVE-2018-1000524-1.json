if (!(tilemap = malloc(x_size * y_size * sizeof(struct map_tile))))