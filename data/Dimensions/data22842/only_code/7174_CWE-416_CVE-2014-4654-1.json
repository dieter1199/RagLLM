if (!replace && card->user_ctl_count >= MAX_USER_CONTROLS)
return -ENOMEM;
down_write(&card->controls_rwsem);
_kctl = snd_ctl_find_id(card, &info->id);
err = 0;
if (_kctl) {
if (replace)
err = snd_ctl_remove(card, _kctl);
else
err = -EBUSY;
} else {
if (replace)
err = -ENOENT;
up_write(&card->controls_rwsem);
if (err < 0)
return err;