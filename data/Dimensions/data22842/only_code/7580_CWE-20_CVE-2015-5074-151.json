echo $model->addTags($_POST['Tag']);
exit;
if ($model !== null && $model->addTags($_POST['Tag'])) {
echo 'true';
return;
*  Remove a widget from the page and put it in the widgets menu
if (isset($_POST['name'])) {
// the widget could be in any of the blocks in the page, so check all of them
foreach ($layout as $b => &$block) {
if (isset($block[$name])) {
if ($b == 'right') {
$layout['hiddenRight'][$name] = $block[$name];
} else {
$layout['hidden'][$name] = $block[$name];
}
unset($block[$name]);
Yii::app()->params->profile->saveLayout($layout);
break;
}
}
// make a list of hidden widgets, using <li>, to send back to the browser
$list = "";
foreach ($layout['hidden'] as $name => $widget) {
$list .= "<li><span class=\"x2-widget-menu-item\" id=\"$name\">{$widget['title']}</span></li>";
}
foreach ($layout['hiddenRight'] as $name => $widget) {
$list .= "<li><span class=\"x2-widget-menu-item right\" id=\"$name\">{$widget['title']}</span></li>";
} else {
foreach ($layout['hidden'] as $key => $widget) {
if ($key == $name) {
$widget['minimize'] = false; // un-minimize widgets when we show them
$layout[$block][$key] = $widget;
unset($layout['hidden'][$key]);
Yii::app()->params->profile->saveLayout($layout);
Yii::app()->clientScript->scriptMap['*.js'] = false;
$this->renderPartial('application.components.views.centerWidget', array(
'widget' => $widget,
'name' => $name,
'modelType' => $modelType,
'moduleName' => $moduleName,
'modelId' => $modelId), false, true);
break;
}
}
