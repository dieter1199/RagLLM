* Set a user as active (TRUE) or inactive (FALSE)
* @param int $id User identifier
* @param bool $active active (TRUE) or inactive (FALSE)
public function active($id, $active) {
$this->users_model->setActive($id, $active);
$this->session->set_flashdata('msg', lang('users_edit_flash_msg_success'));
redirect('users');
}
/**
* Enable a user
* @param int $id User identifier
* @author Benjamin BALET <benjamin.balet@gmail.com>
*/
public function enable($id) {
$this->active($id, TRUE);
}
/**
* Disable a user
* @param int $id User identifier
* @author Benjamin BALET <benjamin.balet@gmail.com>
*/
public function disable($id) {
$this->active($id, FALSE);
/**
* Delete a user. Log it as an error.
* @param int $id User identifier
* @author Benjamin BALET <benjamin.balet@gmail.com>
*/
public function delete($id) {
$this->auth->checkIfOperationIsAllowed('delete_user');
//Test if user exists
$data['users_item'] = $this->users_model->getUsers($id);
if (empty($data['users_item'])) {
redirect('notfound');
} else {
$this->users_model->deleteUser($id);
}
log_message('error', 'User #' . $id . ' has been deleted by user #' . $this->session->userdata('id'));
$this->session->set_flashdata('msg', lang('users_delete_flash_msg_success'));
redirect('users');
}
