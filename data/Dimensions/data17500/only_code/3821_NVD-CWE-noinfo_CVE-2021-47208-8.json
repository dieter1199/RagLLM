generate the correct C<Content-Type> header.
# /detection
get '/detection' => sub ($c) {
The default format is C<html>, and restrictive placeholders can be used to limit possible values.
get '/hello' => [format => ['json', 'txt']] => sub ($c) {
return $c->render(json => {hello => 'world'})
if $c->stash('format') eq 'json';
Or you can just disable format detection with a special type of restrictive placeholder.
use Mojolicious::Lite;
# /hello
get '/hello' => [format => 0] => {text => 'No format detection.'};
# Disable detection and allow the following routes to re-enable it on demand
under [format => 0];
# /foo
get '/foo' => {text => 'No format detection again.'};
# /bar.txt
get '/bar' => [format => 'txt'] => {text => ' Just one format.'};
app->start;
get '/hello' => sub ($c) {
