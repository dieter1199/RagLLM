struct sockaddr_ll *sll;
/*
*	If the address length field is there to be filled in, we fill
*	it in now.
*/
sll = &PACKET_SKB_CB(skb)->sa.ll;
if (sock->type == SOCK_PACKET)
msg->msg_namelen = sizeof(struct sockaddr_pkt);
else
msg->msg_namelen = sll->sll_halen + offsetof(struct sockaddr_ll, sll_addr);
/*
*	You lose any data beyond the buffer you gave. If it worries a
*	user program they can ask the device for its MTU anyway.
if (msg->msg_name)
