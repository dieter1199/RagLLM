$sql0 = sprintf("SELECT COUNT(DISTINCT(username)) AS username
FROM %s
WHERE attribute='Auth-Type' OR attribute LIKE '%%-Password'", $configValues['CONFIG_DB_TBL_RADCHECK']);
// with this second query we retrieve user status (enabled/disabled) and user groups list
$sql2 = sprintf("SELECT username, groupname FROM %s WHERE username IN (%s)",
$configValues['CONFIG_DB_TBL_RADUSERGROUP'], implode(", ", $usernamelist));
$res = $dbSocket->query($sql2);
$logDebugSQL .= "$sql2;\n";
// foreach user we update the enabled flag and the grouplist
while ($row = $res->fetchRow(DB_FETCHMODE_ASSOC)) {
$this_username = $row['username'];
$this_groupname = $row['groupname'];
if ($this_groupname === 'daloRADIUS-Disabled-Users') {
$records[$this_username]['enabled'] = false;
} else {
array_push($records[$this_username]['groups'],
htmlspecialchars($this_groupname, ENT_QUOTES, 'UTF-8'));
<td><?= ($type == 'USER') ? $auth : "" ?></td>