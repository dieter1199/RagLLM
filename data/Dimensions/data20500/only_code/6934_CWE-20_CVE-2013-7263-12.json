struct sockaddr_in *sin;
struct sockaddr_in6 *sin6;
if (addr_len) {
if (family == AF_INET)
*addr_len = sizeof(*sin);
else if (family == AF_INET6 && addr_len)
*addr_len = sizeof(*sin6);
}
sin = (struct sockaddr_in *) msg->msg_name;
sin6 = (struct sockaddr_in6 *) msg->msg_name;
