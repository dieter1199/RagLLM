test 'should store state in the session when present in authorize params vs. a random one' do
assert_equal 'bar', strategy.authorize_params[:state]
assert_equal 'bar', strategy.session['omniauth.state']
test 'should store state in the session when present in request params vs. a random one' do
assert_equal 'foo', strategy.authorize_params[:state]
assert_equal 'foo', strategy.session['omniauth.state']