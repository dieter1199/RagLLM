require 'puppet/file_serving/indirection_hooks'
describe Puppet::FileServing::IndirectionHooks do
@object.extend(Puppet::FileServing::IndirectionHooks)
@object.select_terminus(@request).should == :file
@object.select_terminus(@request).should == :file
proc { @object.select_terminus(@request) }.should raise_error(ArgumentError)
@object.select_terminus(@request).should == :rest
@request.stubs(:server).returns "foo"
@object.select_terminus(@request).should == :rest
Puppet.settings.expects(:value).with(:name).returns "puppet"
@object.select_terminus(@request).should == :file_server