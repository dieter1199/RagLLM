from functools import partial
from httpx import HTTPStatusError, Response
request: Callable,
response = await request()
# We got a response; return immediately if it is not retryable
if response.status_code not in retry_codes:
async def send(self, *args, **kwargs) -> Response:
api_request = partial(super().send, *args, **kwargs)
request=api_request,
