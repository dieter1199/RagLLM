return false if target_uri?(target) && !doc.attributes.key?('allow-uri-read')
return target if target_uri? target
# @param filename [String] path of the file to be read.
def read_lines(filename, selector)
IO.foreach(filename).select.with_index(1, &selector)
URI.open(filename, &:read)
# @return [Boolean] `true` if the *target* is an URI, `false` otherwise.
def target_uri?(target)
::Asciidoctor::Helpers.uriish?(target)