describe('Shared Funcs Tests', function() {
describe('Logger tests', function() {
it('Should create a logger', function() {
describe('Connection url parser tests', function() {
it('Should parse connection url', function() {
it('should not choke on special symbols in auth', function() {
describe('Resolver tests', function() {
beforeEach(function(done) {
server = http.createServer(function(req, res) {
afterEach(function(done) {
it('should set text from html string', function(done) {
shared.resolveContent(mail.data, 'html', function(err, value) {
it('should set text from html buffer', function(done) {
shared.resolveContent(mail.data, 'html', function(err, value) {
it('should set text from a html file', function(done) {
shared.resolveContent(mail.data, 'html', function(err, value) {
it('should set text from an html url', function(done) {
shared.resolveContent(mail.data, 'html', function(err, value) {
it('should set text from redirecting url', function(done) {
shared.resolveContent(mail.data, 'html', function(err, value) {
it('should set text from gzipped url', function(done) {
shared.resolveContent(mail.data, 'html', function(err, value) {
it('should set text from a html stream', function(done) {
shared.resolveContent(mail.data, 'html', function(err, value) {
it('should return an error', function(done) {
shared.resolveContent(mail.data, 'html', function(err) {
it('should return encoded string as buffer', function(done) {
shared.resolveContent(mail.data, 'html', function(err, value) {
describe('data uri tests', function() {
it('should resolve with mime type and base64', function(done) {
shared.resolveContent(mail.data, 'attachment', function(err, value) {
it('should resolve with mime type and plaintext', function(done) {
shared.resolveContent(mail.data, 'attachment', function(err, value) {
it('should resolve with plaintext', function(done) {
shared.resolveContent(mail.data, 'attachment', function(err, value) {
it('should resolve with mime type, charset and base64', function(done) {
shared.resolveContent(mail.data, 'attachment', function(err, value) {
describe('#assign tests', function() {
it('should assign multiple objects to target', function() {
describe('#encodeXText tests', function() {
it('should not encode atom', function() {
it('should not encode email', function() {
it('should encode space', function() {
it('should encode unicode', function() {
it('should encode low codes', function() {