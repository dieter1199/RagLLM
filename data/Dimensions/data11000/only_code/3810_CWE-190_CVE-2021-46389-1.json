Copyright (C) 2006-2021 Ruven Pillay.
int num_res = (*session->image)->getNumResolutions();
if( (resolution<0) || (tile<0) ){
int num_res = (*session->image)->getNumResolutions();
unsigned int im_width = (*session->image)->image_widths[num_res-resolution-1];
unsigned int im_height = (*session->image)->image_heights[num_res-resolution-1];
float dpi_x = (*session->image)->dpi_x * (float) im_width / (float) (*session->image)->getImageWidth();
float dpi_y = (*session->image)->dpi_y * (float) im_height / (float) (*session->image)->getImageHeight();
compressor->setResolution( dpi_x, dpi_y, (*session->image)->dpi_units );
if( session->loglevel >= 5 ){
*(session->logfile) << "JTL :: Setting physical resolution of tile to " <<  dpi_x << " x " << dpi_y
<< ( ((*session->image)->dpi_units==1) ? " pixels/inch" : " pixels/cm" ) << endl;
