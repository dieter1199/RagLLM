//  if (!state.equals(cachedState)) throw new BusinessException("state error");