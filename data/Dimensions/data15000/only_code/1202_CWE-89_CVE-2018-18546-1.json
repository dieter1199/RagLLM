if (false === strpos($val, '(') && false === strpos($val, ';')) {
$array[] = $this->parseKey($val);
}
} elseif (false === strpos($key, ')') && false === strpos($key, '#')) {
$sort    = in_array(strtolower($val), array('asc', 'desc')) ? ' ' . $val : '';
} else {
foreach (explode(',', $order) as $val) {
if (preg_match('/\s+(ASC|DESC)$/i', rtrim($val), $match, PREG_OFFSET_CAPTURE)) {
$array[] = $this->parseKey(ltrim(substr($val, 0, $match[0][1]))) . ' ' . $match[1][0];
} elseif (false === strpos($val, '(') && false === strpos($val, ';')) {
$array[] = $this->parseKey($val);
}
}