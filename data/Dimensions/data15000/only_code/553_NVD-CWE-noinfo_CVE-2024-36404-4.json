import java.util.Enumeration;
JXPathContext context = initialiseContext(ns, doc);
JXPathContext context = initialiseContext(ns, doc);
Object ob = context.getValue(xpathString);
private static JXPathContext initialiseContext(NamespaceSupport ns, Document doc) {
JXPathContext context = JXPathContext.newContext(doc);
addNamespaces(ns, context);
context.setLenient(true);
return context;
}
private static void addNamespaces(NamespaceSupport ns, JXPathContext context) {
@SuppressWarnings("unchecked")
Enumeration<String> prefixes = ns.getPrefixes();
while (prefixes.hasMoreElements()) {
String prefix = prefixes.nextElement();
String uri = ns.getURI(prefix);
context.registerNamespace(prefix, uri);
}
}
