use Omnipay\Common\Exception\OmnipayException;
use SilverStripe\Omnipay\Model\Message;
protected $requestMessageType = Message\VoidRequest::class;
protected $errorMessageType = Message\VoidError::class;
if ($serviceResponse->isAwaitingNotification()) {
} else {
if ($serviceResponse->isError()) {
$this->createMessage($this->errorMessageType, $response);
} else {
$this->markCompleted($this->endState, $serviceResponse, $response);
}
$this->createMessage(Message\VoidedResponse::class, $gatewayMessage);