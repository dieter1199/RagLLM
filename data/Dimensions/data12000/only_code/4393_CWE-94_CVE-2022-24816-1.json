private static Pattern BLOCK_COMMENT_STRIPPER = Pattern.compile("(?:/\\*(?:[^*]|(?:\\*+[^*/]))*\\*+/)");
return createRuntimeInstance(model, getRuntimeBaseClass(model), false);
return (T) createRuntimeInstance(model, baseClass, false);
throw new it.geosolutions.jaiext.jiffle.JiffleException("Runtime source error for source: " + runtimeSource, ex);
private String createRuntimeSource(RuntimeModel model, String baseClassName, boolean scriptInDocs) {
throw new RuntimeException("Do no know how to clean the block comments yet");
SourceWriter writer = new SourceWriter(model);
writer.setScript(stripComments(theScript));
private String stripComments(String theScript) {
return BLOCK_COMMENT_STRIPPER.matcher(theScript).replaceAll("");
}
