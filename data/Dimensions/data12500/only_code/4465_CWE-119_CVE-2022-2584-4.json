bytesLen, n := protowire.ConsumeVarint(remaining)
if err := unmarshalLink(remaining[:bytesLen], curLink); err != nil {
remaining = remaining[bytesLen:]