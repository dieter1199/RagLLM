const exec = require('child_process').exec;
for (let i = 0; i <= 2000; i++) {
if (sl && sl[0] && !sl[1]) {
let args = ' -I --connect-timeout 5 -m 5 ' + urlSanitized + ' 2>/dev/null | head -n 1 | cut -d " " -f2';
exec(cmd + args, function (error, stdout) {
let statusCode = parseInt(stdout.toString());
result.ok = !error && (statusCode === 200 || statusCode === 301 || statusCode === 302 || statusCode === 304);
for (let i = 0; i <= 2000; i++) {
execFile('ping', params.split(' '), function (error, stdout) {
if (!error) {
const lines = stdout.toString().split('\n').filter(line => line.indexOf(filt) >= 0).join('\n');
execFile('ping', params.split(' '), { timeout: 3000 }, function (error, stdout) {
if (!error) {
const lines = stdout.toString().split('\n').filter(line => line.indexOf(filt) >= 0).join('\n');