if ($ini !== false) {
foreach (['name', 'version', 'description', 'min_version'] as $key) {
$info[$key] = $ini[$key] ?? $info[$key];
}
if (isset($ini['require'])) {
$info['require'] = explode(',', $ini['require']);
}
if ($info['min_version'] >= 2018 && $info['min_version'] <= self::CORE_VERSION) {
$info['compatible'] = true;
$info['description'] = ('Incompatible' === $info['description']) ? ToolBox::i18n()->trans('compatible') : $info['description'];
} else {
$info['description'] = ToolBox::i18n()->trans('incompatible-with-facturascripts', ['%version%' => self::CORE_VERSION]);
$info['enabled'] = in_array($info['name'], $this->enabledPlugins());
