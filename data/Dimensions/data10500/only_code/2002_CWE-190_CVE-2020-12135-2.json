int stack[32];        /**< A stack used to keep track of nested BSON elements. */
MONGO_EXPORT int bson_buffer_size( const bson *b );
int bson_ensure_space( bson *b, const int bytesNeeded );
MONGO_EXPORT int bson_append_string_n( bson *b, const char *name, const char *str, int len );
MONGO_EXPORT int bson_append_symbol_n( bson *b, const char *name, const char *str, int len );
MONGO_EXPORT int bson_append_code_n( bson *b, const char *name, const char *str, int len );
MONGO_EXPORT int bson_append_code_w_scope_n( bson *b, const char *name, const char *code, int size, const bson *scope );
MONGO_EXPORT int bson_append_binary( bson *b, const char *name, char type, const char *str, int len );
MONGO_EXPORT void *bson_malloc( int size );
void *bson_realloc( void *ptr, int size );