pjmedia_rtcp_common *hdr;
hdr = (pjmedia_rtcp_common*)buf;
pj_memcpy(hdr, &session->rtcp_rr_pkt.common,  sizeof(*hdr));
hdr->pt = RTCP_RTPFB;
hdr->count = 1; /* FMT = 1 */
hdr->length = pj_htons((pj_uint16_t)(len/4 - 1));
pjmedia_rtcp_common *hdr;
hdr = (pjmedia_rtcp_common*)buf;
pj_memcpy(hdr, &session->rtcp_rr_pkt.common,  sizeof(*hdr));
hdr->pt = RTCP_PSFB;
hdr->count = 1; /* FMT = 1 */
hdr->length = pj_htons((pj_uint16_t)(len/4 - 1));
pjmedia_rtcp_common *hdr;
hdr = (pjmedia_rtcp_common*)buf;
pj_memcpy(hdr, &session->rtcp_rr_pkt.common,  sizeof(*hdr));
hdr->pt = RTCP_PSFB;
hdr->count = 2; /* FMT = 2 */
hdr->length = pj_htons((pj_uint16_t)(len/4 - 1));
pjmedia_rtcp_common *hdr;
hdr = (pjmedia_rtcp_common*)buf;
pj_memcpy(hdr, &session->rtcp_rr_pkt.common,  sizeof(*hdr));
hdr->pt = RTCP_PSFB;
hdr->count = 3; /* FMT = 3 */
hdr->length = pj_htons((pj_uint16_t)(len/4 - 1));
pjmedia_rtcp_common *hdr = (pjmedia_rtcp_common*) buf;
PJ_ASSERT_RETURN(length >= sizeof(pjmedia_rtcp_common), PJ_ETOOSMALL);
if (hdr->pt != RTCP_RTPFB || hdr->count != 1)
cnt = pj_ntohs((pj_uint16_t)hdr->length);
pjmedia_rtcp_common *hdr = (pjmedia_rtcp_common*) buf;
if (hdr->pt != RTCP_PSFB || hdr->count != 1)
pjmedia_rtcp_common *hdr = (pjmedia_rtcp_common*) buf;
PJ_ASSERT_RETURN(length >= sizeof(pjmedia_rtcp_common), PJ_ETOOSMALL);
if (hdr->pt != RTCP_PSFB || hdr->count != 2)
cnt = pj_ntohs((pj_uint16_t)hdr->length) - 2;
pjmedia_rtcp_common *hdr = (pjmedia_rtcp_common*) buf;
PJ_ASSERT_RETURN(length >= sizeof(pjmedia_rtcp_common), PJ_ETOOSMALL);
if (hdr->pt != RTCP_PSFB || hdr->count != 3)
rpsi_len = (pj_ntohs((pj_uint16_t)hdr->length)-2) * 4;